# Halt

## Halt: swi 0x04

割り込みリクエストが発生するまでCPUを停止します。CPUは低消費電力モード(Halt状態)に切り替わり、その他の回路（ビデオ、サウンド、タイマー、シリアル、キーパッド、システムクロック）は動作し続けます。

Halt状態は，有効な割り込みが要求されると終了します。つまり，`IE & IF`が0でない場合です。その条件が成立しないとGBAはHaltし続けます。

ただし，CPUのCPSRレジスタのIRQ無効化ビットとIMEレジスタの状態は関係なく，どちらかが割り込みを無効にしていてもHaltは終了します。

GBAおよびNDS7/DSi7では、`0x4000301`の`HALTCNT`に書き込むことでHalt状態に入ります。

NDS9/DSi9では、システム制御コプロセッサへの書き込み(mov p15,0,c7,c0,4,r0 opcode)でHalt状態に入りますが、このopcodeはIME=0の場合にハングアップします。

引数、返り値: なし

GBA/NDS7/DSi7ではレジスタは全て不変、NDS9/DSi9のみR0が変更されます

## VBlankIntrWait: swi 0x05

次のVBlank割り込みが起きるまでHaltし続けます。

内部では`r0=1`, `r1=1`, `r2=0(DSi7 only)`をして`IntrWait`を実行しているだけなので、詳細は`IntrWait`を参照してください。

引数、返り値: なし
